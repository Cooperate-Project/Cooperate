/*
 * generated by Xtext 2.10.0
 */
package de.cooperateproject.modeling.textual.usecase.cdoxtext;

import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.resource.Resource;
import org.eclipse.xtext.resource.IDerivedStateComputer;

import com.google.inject.Inject;

import de.cooperateproject.modeling.textual.usecase.generator.UsecaseDerivedStateGenerator;
import net.winklerweb.cdoxtext.runtime.ICDOResourceStateCalculator;

public class UsecaseStateCalculator implements ICDOResourceStateCalculator {

    @Inject
    private IDerivedStateComputer derivedStateComputer;

    @Override
    public void calculateState(Resource r) {
        if (!r.getContents().isEmpty()) {
            calculateState(r.getContents().get(0));
        }
    }

    @Override
    public void calculateState(EObject object) {
        ((UsecaseDerivedStateGenerator) derivedStateComputer).installDerivedState(object);
    }

}
